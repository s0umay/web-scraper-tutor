{"expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields", "id": "13626292", "self": "https://issues.apache.org/jira/rest/api/2/issue/13626292", "key": "ZOOKEEPER-4957", "fields": {"fixVersions": [], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/2", "id": "2", "description": "The problem described is an issue which will never be fixed.", "name": "Won't Fix"}, "customfield_12312322": null, "customfield_12312323": null, "customfield_12310420": "9223372036854775807", "customfield_12312320": null, "customfield_12312321": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312326": null, "customfield_12310300": null, "customfield_12312327": null, "customfield_12312324": null, "customfield_12312720": null, "customfield_12312325": null, "lastViewed": null, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/3", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg", "name": "Major", "id": "3"}, "labels": ["pull-request-available"], "customfield_12312333": null, "customfield_12312334": null, "customfield_12313422": "false", "customfield_12310310": "0.0", "customfield_12312331": null, "customfield_12312332": null, "aggregatetimeoriginalestimate": null, "timeestimate": 0, "customfield_12312330": null, "versions": [{"self": "https://issues.apache.org/jira/rest/api/2/version/12353693", "id": "12353693", "description": "", "name": "3.8.4", "archived": false, "released": true, "releaseDate": "2024-03-05"}], "customfield_12311120": null, "customfield_12313826": null, "issuelinks": [], "customfield_12312339": null, "customfield_12313825": null, "assignee": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "customfield_12312337": null, "customfield_12313823": null, "customfield_12312338": null, "customfield_12311920": null, "customfield_12313822": null, "customfield_12312335": null, "customfield_12313821": null, "customfield_12312336": null, "customfield_12313820": null, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/5", "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "name": "Resolved", "id": "5", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green", "name": "Done"}}, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12329414", "id": "12329414", "name": "security"}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12312382", "id": "12312382", "name": "server", "description": "General issues with the ZooKeeper server."}, {"self": "https://issues.apache.org/jira/rest/api/2/component/12312427", "id": "12312427", "name": "tests", "description": "For issues with test cases"}], "archiveddate": null, "customfield_12312026": null, "customfield_12312023": null, "customfield_12312024": null, "aggregatetimeestimate": 0, "customfield_12312022": null, "customfield_12310921": null, "customfield_12310920": "9223372036854775807", "customfield_12312823": null, "creator": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "subtasks": [], "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "aggregateprogress": {"progress": 7200, "total": 7200, "percent": 100}, "customfield_12313520": null, "customfield_12310250": null, "progress": {"progress": 7200, "total": 7200, "percent": 100}, "customfield_12313924": null, "votes": {"self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-4957/votes", "votes": 0, "hasVoted": false}, "worklog": {"startAt": 0, "maxResults": 20, "total": 12, "worklogs": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978778", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar opened a new pull request, #2293:\nURL: https://github.com/apache/zookeeper/pull/2293\n\n   (no comment)\n\n\n", "created": "2025-08-13T17:26:53.988+0000", "updated": "2025-08-13T17:26:53.988+0000", "started": "2025-08-13T17:26:53.988+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978778", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978784", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3185030911\n\n   > What does this mean for users of the clien lt library ?\r\n   > What does this mean for system administrators of a server deployed from our tarball ?\r\n   > I am generally +1 to this patch, as far as we clarify those points and maybe document any breaking changes\r\n   \r\n   Yeah, docs are not yet ready, maybe I should convert it to a Draft. First, just trying if I can get the tests green.\r\n   I think people who would like to continue using the shipped **logback** version should upgrade to 3.9 or replace slf4j-simple with the desired logger implementation on the classpath.\n\n\n", "created": "2025-08-13T18:28:12.028+0000", "updated": "2025-08-13T18:28:12.028+0000", "started": "2025-08-13T18:28:12.027+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978784", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978796", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3186307839\n\n   @eolivelli @ctubbsii \r\n   \r\n   Okay, the build is now green, so I believe this is all the code change that we need. I have the following open questions:\r\n   1. We still ship example config files for **logback** and still have reference in the documentation, shall I remove them too? \r\n   2. As @eolivelli raised, we should communicate this change to our users who decide to stay on 3.8.x release line. We're going to have a new version released, 3.8.5, which will be the last patch release of 3.8. How should we articulate the change and recommend users to upgrade to 3.9?\n\n\n", "created": "2025-08-14T00:52:29.289+0000", "updated": "2025-08-14T00:52:29.289+0000", "started": "2025-08-14T00:52:29.289+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978796", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978798", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "ctubbsii commented on code in PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#discussion_r2274943771\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/test/LoggerTestTool.java:\n##########\n\n\nReview Comment:\n   For this and the tests that use it, I think it would be fine to leave `logback` in as a test dependency `<scope>test</scope>`.\r\n   \r\n   It is ill-advised to do the alternative, which requires modifying the global output stream, as that can affect other threads in pretty substantial ways, like Maven or maven-surefire-plugin threads, during the build.\n\n\n\n##########\nzookeeper-contrib/zookeeper-contrib-zooinspector/pom.xml:\n##########\n@@ -90,8 +90,8 @@\n       <artifactId>slf4j-api</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-core</artifactId>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n\nReview Comment:\n   ```suggestion\r\n         <artifactId>slf4j-simple</artifactId>\r\n         <scope>test</scope>\r\n   ```\n\n\n\n##########\nzookeeper-contrib/zookeeper-contrib-zooinspector/src/test/java/org/apache/zookeeper/inspector/LoggerTest.java:\n##########\n@@ -31,12 +31,12 @@ public class LoggerTest {\n     String testMessage = \"a test message\";\n \n     @Test\n-    public void testLogStdOutConfig() {\n+    public void testLogStdErrConfig() {\n         ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n-        PrintStream realStdOut = System.out;\n-        System.setOut(new PrintStream(byteArrayOutputStream));\n+        PrintStream realStdErr = System.err;\n+        System.setErr(new PrintStream(byteArrayOutputStream));\n         LOG.info(testMessage);\n-        System.setOut(realStdOut);\n+        System.setErr(realStdErr);\n\nReview Comment:\n   This test isn't particularly useful as part of ZooKeeper, and could just be deleted. This isn't even an integration test, and doesn't use any ZK code... it's just literally testing the logging dependency API, which can be assumed to work from upstream testing (or at least, if it broke upstream, it would be noticed long before this test runs). Plus, it's not generally a good idea to modify the global system output streams.\n\n\n\n##########\nzookeeper-contrib/zookeeper-contrib-loggraph/pom.xml:\n##########\n@@ -53,8 +53,8 @@\n       <artifactId>slf4j-api</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-core</artifactId>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n\nReview Comment:\n   This can be set to `<scope>test</scope>`. It's really only needed as a runtime dependency for modules that do assembly (such as the fatjar module, the zookeeper-assembly module, and maybe the zooinspector module, which I see also has some kind of assembly). It should never be needed as a compile time dependency.\r\n   \r\n   ```suggestion\r\n         <artifactId>slf4j-simple</artifactId>\r\n         <scope>test</scope>\r\n   ```\n\n\n\n##########\nzookeeper-server/pom.xml:\n##########\n@@ -75,12 +75,8 @@\n       <artifactId>slf4j-api</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-core</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-classic</artifactId>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n\nReview Comment:\n   ```suggestion\r\n         <artifactId>slf4j-simple</artifactId>\r\n         <scope>test</scope>\r\n   ```\r\n   \r\n   `runtime` may also be an appropriate scope here, to document to users that depend on the `zookeeper` artifactId that this, or an alternative implementation is needed at runtime. If this is marked as a runtime dependency rather than a test dependency, I would also add `<optional>true</optional>` so that it is not automatically picked up by other projects that depend on the zookeeper-server jar during their Maven builds, for their slf4j runtime implementation, as a transitive dependency. Otherwise, everybody would have to add `<exclusions>` elements to their `<dependency>` on `zookeeper-server`, the same way ZooKeeper has to for the `kerby-config` dependency, which would otherwise bring in the `slf4j-log4j12` runtime. This should have been done with logback as well, but never was. This isn't necessary if it's set to test scope, since test scopes are never added automatically as a transitive dependency.\n\n\n\n##########\nzookeeper-contrib/zookeeper-contrib-rest/pom.xml:\n##########\n@@ -69,8 +69,8 @@\n       <artifactId>slf4j-api</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-core</artifactId>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n\nReview Comment:\n   ```suggestion\r\n         <artifactId>slf4j-simple</artifactId>\r\n         <scope>test</scope>\r\n   ```\n\n\n\n##########\nzookeeper-contrib/zookeeper-contrib-fatjar/pom.xml:\n##########\n@@ -91,8 +91,8 @@\n       <artifactId>snappy-java</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-core</artifactId>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n\nReview Comment:\n   ```suggestion\r\n         <artifactId>slf4j-simple</artifactId>\r\n         <scope>runtime</scope>\r\n   ```\n\n\n\n", "created": "2025-08-14T01:15:44.474+0000", "updated": "2025-08-14T01:15:44.474+0000", "started": "2025-08-14T01:15:44.473+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978798", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978799", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "ctubbsii commented on code in PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#discussion_r2275011963\n\n\n##########\nzookeeper-server/pom.xml:\n##########\n@@ -75,12 +75,8 @@\n       <artifactId>slf4j-api</artifactId>\n     </dependency>\n     <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-core</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>ch.qos.logback</groupId>\n-      <artifactId>logback-classic</artifactId>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n\nReview Comment:\n   Since `slf4j-simple` is not listed in the `zookeeper-assembly/pom.xml`, it is assumed to be picked up automatically as a transitive dependency of the `zookeeper-server` module (artifactId: zookeeper). So, using test scope or optional won't work, because the intent is that it will automatically get picked up transitively for the assembly. I still think test scope is most appropriate, so the fix would be to explicitly add slf4j-simple to the `zookeeper-assembly/pom.xml`, so it will be included in the assembly directly, rather than transitively.\n\n\n\n", "created": "2025-08-14T01:20:00.994+0000", "updated": "2025-08-14T01:20:00.994+0000", "started": "2025-08-14T01:20:00.993+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978799", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978802", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "ctubbsii commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3186413064\n\n   > What does this mean for users of the clien lt library ?\r\n   \r\n   ZooKeeper clients will use whatever slf4j runtime is on their classpath, just as before. If they had included the `$ZOOKEEPER_TARBALL_DIRECTORY/lib` in that classpath before, then they would have automatically used the logback runtime library... but if they didn't have a logback configuration file, it would have done whatever logback defaulted to without a config. Now, it would pick up the slf4j-simple runtime, and log to the console, configurable with some [basic system properties](https://www.slf4j.org/api/org/slf4j/simple/SimpleLogger.html).\r\n   \r\n   If a different logging runtime is desired, the user would set their classpath appropriately to use the desired runtime library, and configure it according to their selected library.\r\n   \r\n   > What does this mean for system administrators of a server deployed from our tarball ?\r\n   \r\n   By default, they will use the slf4j-simple implementation jar in the `$ZOOKEEPER_TARBALL_DIRECTORY/lib` directory which will be on their classpath. If they want to use a different implementation, they will need to modify their CLASSPATH, which they can do in the `$ZOOCFGDIR/java.env` file or the `$ZOOCFGDIR/zookeeper-env.sh` file. If they want to keep slf4j-simple, but don't want the default behavior, they can set system properties in those files, by setting one of several different JVM flags environment variables (`SERVER_JVMFLAGS`, `CLIENT_JVMFLAGS`, the older `JAVA_TOOL_OPTIONS`, or the newer `JDK_JAVA_OPTIONS`, or the poorly documented `_JAVA_OPTIONS`) to include `-Dorg.slf4j.simpleLogger.logFile=` or similar system properties from the [`slf4j-simple` documentation](https://www.slf4j.org/api/org/slf4j/simple/SimpleLogger.html).\n\n\n", "created": "2025-08-14T01:44:42.250+0000", "updated": "2025-08-14T01:44:42.250+0000", "started": "2025-08-14T01:44:42.249+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978802", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978803", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "ctubbsii commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3186450248\n\n   > 1. We still ship example config files for **logback** and still have reference in the documentation, shall I remove them too?\r\n   \r\n   I would. You could add example java.env for some slf4j-simple config, but it's also okay to just link to the documentation at https://www.slf4j.org/api/org/slf4j/simple/SimpleLogger.html\r\n   \r\n   > 2. As @eolivelli raised, we should communicate this change to our users who decide to stay on 3.8.x release line. We're going to have a new version released, 3.8.5, which will be the last patch release of 3.8. How should we articulate the change and recommend users to upgrade to 3.9?\r\n   \r\n   I think the including the recommendation to upgrade in the `[ANNOUNCE]` message, and a clear indicator on the downloads page that it is EOL is generally sufficient.\n\n\n", "created": "2025-08-14T01:57:59.443+0000", "updated": "2025-08-14T01:57:59.443+0000", "started": "2025-08-14T01:57:59.441+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978803", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978804", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3186641236\n\n   > I think the including the recommendation to upgrade in the [ANNOUNCE] message, and a clear indicator on the downloads page that it is EOL is generally sufficient.\r\n   \r\n   We also have release note page, here is 3.8.4: https://zookeeper.apache.org/doc/r3.8.4/releasenotes.html. We could highlight this change and point out possible consequences there.\n\n\n", "created": "2025-08-14T03:21:58.519+0000", "updated": "2025-08-14T03:21:58.519+0000", "started": "2025-08-14T03:21:58.519+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978804", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978957", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "ctubbsii commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3189752245\n\n   I missed the fact that this was targeting branch-3.8. I don't think this should be done for 3.8. I think this is a good path forward for the master branch and future versions (3.10 and later), but I don't think 3.8 should be changed. I think it's too disruptive to existing users, and does not really benefit anybody to do it in a patch/maintenance release. Existing 3.8 users can just change their logging runtime in their own classpath if they are impacted and need to continue using 3.8. Most people should just upgrade to 3.9 instead.\n\n\n", "created": "2025-08-14T20:13:29.193+0000", "updated": "2025-08-14T20:13:29.193+0000", "started": "2025-08-14T20:13:29.193+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978957", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/978961", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "ctubbsii commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3189909305\n\n   > > I think the including the recommendation to upgrade in the [ANNOUNCE] message, and a clear indicator on the downloads page that it is EOL is generally sufficient.\r\n   > \r\n   > We also have release note page, here is 3.8.4: https://zookeeper.apache.org/doc/r3.8.4/releasenotes.html. We could highlight this change and point out possible consequences there.\r\n   \r\n   That page appears generated, at least initially, from JIRA. It has always bothered me that JIRA calls those \"release notes\" when they are really just a \"Changelog\", and basically just a subset of what you can find from git. I've never found those particularly useful. Editing it to have advice/warnings/notices, or a summarized narrative of the changes, would make it much more useful, I think. So, yes, I think that would be a perfect place to put some information about this. The main concern I would have is that people probably don't ever read those, because people have been trained to think of them as merely a changelog, and probably wouldn't think to look there for more useful information.\n\n\n", "created": "2025-08-14T21:23:07.818+0000", "updated": "2025-08-14T21:23:07.818+0000", "started": "2025-08-14T21:23:07.817+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "978961", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/979062", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar closed pull request #2293: ZOOKEEPER-4957. Replace logback with slf4j-simple on branch-3.8 due to upgrading issues\nURL: https://github.com/apache/zookeeper/pull/2293\n\n\n", "created": "2025-08-15T19:27:12.631+0000", "updated": "2025-08-15T19:27:12.631+0000", "started": "2025-08-15T19:27:12.630+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "979062", "issueId": "13626292"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/worklog/979063", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2293:\nURL: https://github.com/apache/zookeeper/pull/2293#issuecomment-3192518340\n\n   Thanks @ctubbsii and @eolivelli for the reviews. Closing this one, because we upgrade logging libraries instead.\r\n   Superseded by https://github.com/apache/zookeeper/commit/1a316edd454f5123b4f6a5389c6887f015482c05\n\n\n", "created": "2025-08-15T19:27:13.584+0000", "updated": "2025-08-15T19:27:13.584+0000", "started": "2025-08-15T19:27:13.583+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "979063", "issueId": "13626292"}]}, "archivedby": null, "customfield_12313920": null, "issuetype": {"self": "https://issues.apache.org/jira/rest/api/2/issuetype/3", "id": "3", "description": "A task that needs to be done.", "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype", "name": "Task", "subtask": false, "avatarId": 21148}, "timespent": 7200, "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@392fac4a[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@308fc07d[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1c7dae6f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@52bf19b5[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d79ffc0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@75d38084[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ac4687[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2ef49516[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6cb1f8f7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@50f8245[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6371641d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@69270140[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}", "customfield_12314141": null, "customfield_12314140": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12310801", "id": "12310801", "key": "ZOOKEEPER", "name": "ZooKeeper", "projectTypeKey": "software", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011", "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"}, "projectCategory": {"self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10484", "id": "10484", "description": "Apache ZooKeeper related", "name": "ZooKeeper"}}, "aggregatetimespent": 7200, "customfield_12312520": null, "customfield_12312521": "Fri Aug 15 19:28:24 UTC 2025", "customfield_12314422": null, "customfield_12314421": null, "customfield_12314146": null, "customfield_12314420": null, "customfield_12314145": null, "customfield_12314144": null, "customfield_12314143": null, "resolutiondate": "2025-08-15T19:28:24.000+0000", "workratio": -1, "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-4957/watchers", "watchCount": 1, "isWatching": false}, "created": "2025-08-13T16:59:33.000+0000", "customfield_12310192": null, "customfield_12310191": null, "customfield_12310230": null, "updated": "2025-08-15T19:28:39.000+0000", "timeoriginalestimate": null, "description": "Logback versions 1.2.x have some CVEs which can only be resolved by upgrading to at least logback 1.3.x. Unfortunately it also involves upgrading SLF4j to 2.0.x which is not acceptable on branch-3.8. Instead we should try to replace logback with slf4j-simple, but that implies some test code changes as well.", "customfield_10010": null, "timetracking": {"remainingEstimate": "0h", "timeSpent": "2h", "remainingEstimateSeconds": 0, "timeSpentSeconds": 7200}, "customfield_12314523": null, "customfield_12314127": null, "customfield_12314522": null, "customfield_12314126": null, "customfield_12314521": null, "customfield_12314125": null, "customfield_12314520": null, "customfield_12314124": null, "customfield_12312340": null, "attachment": [], "customfield_12314123": null, "customfield_12312341": null, "customfield_12312220": null, "customfield_12314122": null, "customfield_12314121": null, "customfield_12314120": null, "customfield_12314129": null, "customfield_12314524": null, "customfield_12314128": null, "summary": "Replace logback with slf4j-simple on branch-3.8 due to upgrading issues", "customfield_12314130": null, "customfield_12310291": null, "customfield_12310290": null, "customfield_12311024": null, "customfield_12314138": null, "customfield_12314137": null, "environment": null, "customfield_12314136": null, "customfield_12314135": null, "customfield_12311020": null, "customfield_12314134": null, "duedate": null, "customfield_12314132": null, "customfield_12314131": null, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13626292/comment/18014190", "id": "18014190", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "body": "We ended up upgrading logging libraries on *branch-3.8* too, so we won't do this for now.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "created": "2025-08-15T19:28:24.482+0000", "updated": "2025-08-15T19:28:39.268+0000"}], "maxResults": 1, "total": 1, "startAt": 0}, "customfield_12311820": "0|z1x8s8:", "customfield_12314139": null}}