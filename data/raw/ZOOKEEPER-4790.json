{"expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields", "id": "13565925", "self": "https://issues.apache.org/jira/rest/api/2/issue/13565925", "key": "ZOOKEEPER-4790", "fields": {"fixVersions": [{"self": "https://issues.apache.org/jira/rest/api/2/version/12353481", "id": "12353481", "name": "3.10.0", "archived": false, "released": false}, {"self": "https://issues.apache.org/jira/rest/api/2/version/12355230", "id": "12355230", "description": "", "name": "3.9.4", "archived": false, "released": true, "releaseDate": "2025-08-29"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "description": "A fix for this issue is checked into the tree and tested.", "name": "Fixed"}, "customfield_12312322": null, "customfield_12312323": null, "customfield_12310420": "9223372036854775807", "customfield_12312320": null, "customfield_12312321": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312326": null, "customfield_12310300": null, "customfield_12312327": null, "customfield_12312324": null, "customfield_12312720": null, "customfield_12312325": null, "lastViewed": null, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/4", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg", "name": "Minor", "id": "4"}, "labels": ["pull-request-available"], "customfield_12312333": null, "customfield_12312334": null, "customfield_12313422": "false", "customfield_12310310": "0.0", "customfield_12312331": null, "customfield_12312332": null, "aggregatetimeoriginalestimate": null, "timeestimate": 0, "customfield_12312330": null, "versions": [{"self": "https://issues.apache.org/jira/rest/api/2/version/12353480", "id": "12353480", "name": "3.9.1", "archived": false, "released": true, "releaseDate": "2023-10-09"}], "customfield_12311120": null, "customfield_12313826": null, "issuelinks": [], "customfield_12312339": null, "customfield_12313825": null, "assignee": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=sliebau", "name": "sliebau", "key": "sliebau", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=sliebau&avatarId=26090", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sliebau&avatarId=26090", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sliebau&avatarId=26090", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sliebau&avatarId=26090"}, "displayName": "Sönke Liebau", "active": true, "timeZone": "Europe/Berlin"}, "customfield_12312337": null, "customfield_12313823": null, "customfield_12312338": null, "customfield_12311920": null, "customfield_12313822": null, "customfield_12312335": null, "customfield_12313821": null, "customfield_12312336": null, "customfield_12313820": null, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/6", "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png", "name": "Closed", "id": "6", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green", "name": "Done"}}, "components": [], "archiveddate": null, "customfield_12312026": null, "customfield_12312023": null, "customfield_12312024": null, "aggregatetimeestimate": 0, "customfield_12312022": null, "customfield_12310921": null, "customfield_12310920": "9223372036854775807", "customfield_12312823": null, "creator": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=sliebau", "name": "sliebau", "key": "sliebau", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=sliebau&avatarId=26090", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sliebau&avatarId=26090", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sliebau&avatarId=26090", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sliebau&avatarId=26090"}, "displayName": "Sönke Liebau", "active": true, "timeZone": "Europe/Berlin"}, "subtasks": [], "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=sliebau", "name": "sliebau", "key": "sliebau", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=sliebau&avatarId=26090", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sliebau&avatarId=26090", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sliebau&avatarId=26090", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sliebau&avatarId=26090"}, "displayName": "Sönke Liebau", "active": true, "timeZone": "Europe/Berlin"}, "aggregateprogress": {"progress": 7800, "total": 7800, "percent": 100}, "customfield_12313520": null, "customfield_12310250": null, "progress": {"progress": 7800, "total": 7800, "percent": 100}, "customfield_12313924": null, "votes": {"self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-4790/votes", "votes": 0, "hasVoted": false}, "worklog": {"startAt": 0, "maxResults": 20, "total": 13, "worklogs": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/923700", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "nightkr opened a new pull request, #2173:\nURL: https://github.com/apache/zookeeper/pull/2173\n\n   FIPS mode _technically_ covers this, in a sort of sledgehammery way, but I think it's still worthwhile to have an explicit option for this and only this. Especially since FIPS compliance is a pretty broad thing (see [ZOOKEEPER-4832](https://issues.apache.org/jira/browse/ZOOKEEPER-4832)) that will likely expand in the future to cover a lot of things that may or may not be desired.\n\n\n", "created": "2024-06-17T13:18:32.419+0000", "updated": "2024-06-17T13:18:32.419+0000", "started": "2024-06-17T13:18:32.418+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "923700", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932037", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar closed pull request #2173: ZOOKEEPER-4790: Make client hostname verification configurable\nURL: https://github.com/apache/zookeeper/pull/2173\n\n\n", "created": "2024-08-27T19:26:11.318+0000", "updated": "2024-08-27T19:26:11.318+0000", "started": "2024-08-27T19:26:11.318+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932037", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932038", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#issuecomment-2313343656\n\n   > FIPS mode _technically_ covers this, in a sort of sledgehammery way, but I think it's still worthwhile to have an explicit option for this and only this. Especially since FIPS compliance is a pretty broad thing (see [ZOOKEEPER-4832](https://issues.apache.org/jira/browse/ZOOKEEPER-4832)) that will likely expand in the future to cover a lot of things that may or may not be desired.\r\n   \r\n   What do\n\n\n", "created": "2024-08-27T19:26:12.192+0000", "updated": "2024-08-27T19:26:12.192+0000", "started": "2024-08-27T19:26:12.192+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932038", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932039", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "nightkr opened a new pull request, #2173:\nURL: https://github.com/apache/zookeeper/pull/2173\n\n   FIPS mode _technically_ covers this, in a sort of sledgehammery way, but I think it's still worthwhile to have an explicit option for this and only this. Especially since FIPS compliance is a pretty broad thing (see [ZOOKEEPER-4832](https://issues.apache.org/jira/browse/ZOOKEEPER-4832)) that will likely expand in the future to cover a lot of things that may or may not be desired.\n\n\n", "created": "2024-08-27T19:26:23.758+0000", "updated": "2024-08-27T19:26:23.758+0000", "started": "2024-08-27T19:26:23.757+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932039", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932040", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#issuecomment-2313348045\n\n   Accidentally closed the PR, sorry.\r\n   Wanted to ask:\r\n   \r\n   Have you considered replacing the current apporach with separate config settings\r\n   - `zookeeper.ssl.(quorum.)server.hostnameVerification`\r\n   - `zookeeper.ssl.(quorum.)client.hostnameVerification`\n\n\n", "created": "2024-08-27T19:28:57.408+0000", "updated": "2024-08-27T19:28:57.408+0000", "started": "2024-08-27T19:28:57.407+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932040", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932045", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "nightkr commented on PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#issuecomment-2313436433\n\n   In a green field I think that makes sense, but I don't think it's worth breaking the old config value \"just\" for this.\n\n\n", "created": "2024-08-27T20:20:00.261+0000", "updated": "2024-08-27T20:20:00.261+0000", "started": "2024-08-27T20:20:00.260+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932045", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932048", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#issuecomment-2313488555\n\n   > In a green field I think that makes sense, but I don't think it's worth breaking the old config value \"just\" for this.\r\n   \r\n   You can keep backward compatibility by parsing both `zookeeper.ssl.server.hostnameVerification` and `zookeeper.ssl.hostnameVerification` as the server setting.\n\n\n", "created": "2024-08-27T20:37:50.764+0000", "updated": "2024-08-27T20:37:50.764+0000", "started": "2024-08-27T20:37:50.764+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932048", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932049", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on code in PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#discussion_r1733492664\n\n\n##########\nzookeeper-docs/src/main/resources/markdown/zookeeperAdmin.md:\n##########\n@@ -1739,6 +1739,12 @@ and [SASL authentication for ZooKeeper](https://cwiki.apache.org/confluence/disp\n     Disabling it only recommended for testing purposes.\n     Default: true\n \n+* *ssl.clientHostnameVerification* and *ssl.quorum.clientHostnameVerification* :\n+    (Java system properties: **zookeeper.ssl.clientHostnameVerification** and **zookeeper.ssl.quorum.clientHostnameVerification**)\n+    **New in (INSERT VERSION HERE):**\n\nReview Comment:\n   3.9.3\n\n\n\n", "created": "2024-08-27T20:43:49.108+0000", "updated": "2024-08-27T20:43:49.108+0000", "started": "2024-08-27T20:43:49.107+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932049", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932050", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on code in PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#discussion_r1733494485\n\n\n##########\nzookeeper-docs/src/main/resources/markdown/zookeeperAdmin.md:\n##########\n@@ -1739,6 +1739,12 @@ and [SASL authentication for ZooKeeper](https://cwiki.apache.org/confluence/disp\n     Disabling it only recommended for testing purposes.\n     Default: true\n \n+* *ssl.clientHostnameVerification* and *ssl.quorum.clientHostnameVerification* :\n+    (Java system properties: **zookeeper.ssl.clientHostnameVerification** and **zookeeper.ssl.quorum.clientHostnameVerification**)\n+    **New in (INSERT VERSION HERE):**\n+    Specifies whether the client's hostname verification is enabled in client and quorum TLS negotiation process.\n\nReview Comment:\n   Please add that this setting will require server `hostnameVerification` setting to be true.\n\n\n\n", "created": "2024-08-27T20:45:39.034+0000", "updated": "2024-08-27T20:45:39.034+0000", "started": "2024-08-27T20:45:39.033+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932050", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/932052", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#issuecomment-2313527852\n\n   @nightkr Ignore my previous comment. Since client hostname verification is bound to server hostname verification setting, it makes sense to keep the original and general `hostnameVerification` setting. It enables/disabled the entire feature. Your patch is good as it is.\n\n\n", "created": "2024-08-27T20:59:04.121+0000", "updated": "2024-08-27T20:59:04.121+0000", "started": "2024-08-27T20:59:04.120+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "932052", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/945139", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "nightkr commented on code in PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#discussion_r1853829024\n\n\n##########\nzookeeper-docs/src/main/resources/markdown/zookeeperAdmin.md:\n##########\n@@ -1739,6 +1739,12 @@ and [SASL authentication for ZooKeeper](https://cwiki.apache.org/confluence/disp\n     Disabling it only recommended for testing purposes.\n     Default: true\n \n+* *ssl.clientHostnameVerification* and *ssl.quorum.clientHostnameVerification* :\n+    (Java system properties: **zookeeper.ssl.clientHostnameVerification** and **zookeeper.ssl.quorum.clientHostnameVerification**)\n+    **New in (INSERT VERSION HERE):**\n\nReview Comment:\n   689794749d71489c849fcaf8137a98c39dbd250a\r\n   \r\n   Skipped 3.9.3 since it's already released at this point\n\n\n\n", "created": "2024-11-22T12:18:43.091+0000", "updated": "2024-11-22T12:18:43.091+0000", "started": "2024-11-22T12:18:43.090+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "945139", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/945140", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "nightkr commented on PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173#issuecomment-2493633341\n\n   Sorry about the delay, got distracted by other stuff.\n\n\n", "created": "2024-11-22T12:21:14.787+0000", "updated": "2024-11-22T12:21:14.787+0000", "started": "2024-11-22T12:21:14.786+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "945140", "issueId": "13565925"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/worklog/945245", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar merged PR #2173:\nURL: https://github.com/apache/zookeeper/pull/2173\n\n\n", "created": "2024-11-22T22:32:13.609+0000", "updated": "2024-11-22T22:32:13.609+0000", "started": "2024-11-22T22:32:13.609+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "945245", "issueId": "13565925"}]}, "archivedby": null, "customfield_12313920": null, "issuetype": {"self": "https://issues.apache.org/jira/rest/api/2/issuetype/4", "id": "4", "description": "An improvement or enhancement to an existing feature or task.", "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype", "name": "Improvement", "subtask": false, "avatarId": 21140}, "timespent": 7800, "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7fe8e176[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5d93c3a1[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@52f0d80a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@113d873e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ca59db9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7d843372[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@29e09440[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@5499f235[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@34b1f54a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@68725f0d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@459d84d7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5e8ece0b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}", "customfield_12314141": null, "customfield_12314140": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12310801", "id": "12310801", "key": "ZOOKEEPER", "name": "ZooKeeper", "projectTypeKey": "software", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011", "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"}, "projectCategory": {"self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10484", "id": "10484", "description": "Apache ZooKeeper related", "name": "ZooKeeper"}}, "aggregatetimespent": 7800, "customfield_12312520": null, "customfield_12312521": "Mon Jan 13 14:22:08 UTC 2025", "customfield_12314422": null, "customfield_12314421": null, "customfield_12314146": null, "customfield_12314420": null, "customfield_12314145": null, "customfield_12314144": null, "customfield_12314143": null, "resolutiondate": "2024-11-22T22:32:43.000+0000", "workratio": -1, "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-4790/watchers", "watchCount": 7, "isWatching": false}, "created": "2024-01-24T09:55:03.000+0000", "customfield_12310192": null, "customfield_12310191": null, "customfield_12310230": null, "updated": "2025-08-29T21:29:00.000+0000", "timeoriginalestimate": null, "description": "Currently, enabling Quorum TLS will make the server validate SANs client certificates of connecting quorum peers against their reverse DNS address. \r\n\r\n We have seen this cause issues when running in Kubernetes, due to ip addresses resolving to multiple dns names, when ZooKeeper pods participate in multiple services. \r\n\r\nSince `InetAddress.getHostAddress()` returns a String, it basically becomes a game of chance which dns name is checked against the cert. \r\nThis usually shakes itself loose after a few minutes, when the hostname that gets returned by the reverse lookup randomly changes and all of a sudden matches the certificate... but this is less than ideal.\r\n\r\nThis has also caused issues in the Strimzi operator as well (see [this issue|https://github.com/strimzi/strimzi-kafka-operator/issues/3099]) - they solved this by pretty much adding anything they can find that might be relevant to the SAN, and a few wildcards on top of that.\r\n\r\nThis is both, error prone and doesn't really add any relevant extra amount of security, since \"This certificate matches the connecting peer\" shouldn't automatically mean \"this peer should be allowed to connect\".\r\n \r\n There are two (probably more) ways to fix this:\r\n\r\n# Retrieve _all_  reverse entries and check against all of them\r\n# The ZK server could verify the SAN against the list of servers ({{{}servers.N{}}} in the config). A peer should be able to connect on the quorum port if and only if at least one SAN matches at least one of the listed servers.\r\n\r\nI'd argue that the second option is the better one, especially since the java api doesn't even seem to have the option of retrieving all dns entries, but also because it better matches the expressed intent of the ZK admin.\r\n\r\nAdditionally, it would be nice to have a \"disable client hostname verification\" option that still leaves server hostname verification enabled. Strictly speaking this is a separate issue though, I'd be happy to spin that out into a ticket of its own..\r\n\r\n", "customfield_10010": null, "timetracking": {"remainingEstimate": "0h", "timeSpent": "2h 10m", "remainingEstimateSeconds": 0, "timeSpentSeconds": 7800}, "customfield_12314523": null, "customfield_12314127": null, "customfield_12314522": null, "customfield_12314126": null, "customfield_12314521": null, "customfield_12314125": null, "customfield_12314520": null, "customfield_12314124": null, "customfield_12312340": null, "attachment": [], "customfield_12314123": null, "customfield_12312341": null, "customfield_12312220": null, "customfield_12314122": null, "customfield_12314121": null, "customfield_12314120": null, "customfield_12314129": null, "customfield_12314524": null, "customfield_12314128": null, "summary": "TLS Quorum hostname verification breaks in some scenarios", "customfield_12314130": null, "customfield_12310291": null, "customfield_12310290": null, "customfield_12311024": null, "customfield_12314138": null, "customfield_12314137": null, "environment": null, "customfield_12314136": null, "customfield_12314135": null, "customfield_12311020": null, "customfield_12314134": null, "duedate": null, "customfield_12314132": null, "customfield_12314131": null, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/comment/17877146", "id": "17877146", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "body": "[~sliebau] \r\n{quote} There are two (probably more) ways to fix this:\r\n # Retrieve _all_ reverse entries and check against all of them\r\n # The ZK server could verify the SAN against the list of servers ({{{}servers.N{}}} in the config). A peer should be able to connect on the quorum port if and only if at least one SAN matches at least one of the listed servers.{quote}\r\nI think these two approaches don't contradict each other. You can add a new flag to toggle client hostname verification and also improve the logic how ZK does it if it's turned on.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "created": "2024-08-27T19:25:47.897+0000", "updated": "2024-08-27T19:25:47.897+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/comment/17900514", "id": "17900514", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "body": "Issue resolved by pull request 2173\n[https://github.com/apache/zookeeper/pull/2173]", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=andor", "name": "andor", "key": "andorm", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"}, "displayName": "Andor Molnar", "active": true, "timeZone": "Europe/Budapest"}, "created": "2024-11-22T22:32:43.207+0000", "updated": "2024-11-22T22:32:43.207+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13565925/comment/17912550", "id": "17912550", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=giorgos.georgiou", "name": "giorgos.georgiou", "key": "JIRAUSER300081", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"}, "displayName": "Giorgos Georgiou", "active": true, "timeZone": "Asia/Nicosia"}, "body": "Hi!\r\n\r\nThe issue doesn't seem to be resolved by the linked pull request since the PR allows disabling hostnameVerification instead of validating against the configured ensemble (number 2 in the \"ways to fix\").\r\n\r\nIs there a different issue for the second part?", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=giorgos.georgiou", "name": "giorgos.georgiou", "key": "JIRAUSER300081", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"}, "displayName": "Giorgos Georgiou", "active": true, "timeZone": "Asia/Nicosia"}, "created": "2025-01-13T14:22:08.582+0000", "updated": "2025-01-13T14:22:08.582+0000"}], "maxResults": 3, "total": 3, "startAt": 0}, "customfield_12311820": "0|z1mymw:", "customfield_12314139": null}}