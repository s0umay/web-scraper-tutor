{"expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields", "id": "13598708", "self": "https://issues.apache.org/jira/rest/api/2/issue/13598708", "key": "ZOOKEEPER-4886", "fields": {"fixVersions": [{"self": "https://issues.apache.org/jira/rest/api/2/version/12353481", "id": "12353481", "name": "3.10.0", "archived": false, "released": false}, {"self": "https://issues.apache.org/jira/rest/api/2/version/12354431", "id": "12354431", "description": "", "name": "3.8.5", "archived": false, "released": true, "releaseDate": "2025-09-18"}, {"self": "https://issues.apache.org/jira/rest/api/2/version/12355230", "id": "12355230", "description": "", "name": "3.9.4", "archived": false, "released": true, "releaseDate": "2025-08-29"}], "resolution": {"self": "https://issues.apache.org/jira/rest/api/2/resolution/1", "id": "1", "description": "A fix for this issue is checked into the tree and tested.", "name": "Fixed"}, "customfield_12312322": null, "customfield_12312323": null, "customfield_12310420": "9223372036854775807", "customfield_12312320": null, "customfield_12312321": null, "customfield_12312328": null, "customfield_12312329": null, "customfield_12312326": null, "customfield_12310300": null, "customfield_12312327": null, "customfield_12312324": null, "customfield_12312720": null, "customfield_12312325": null, "lastViewed": null, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/1", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg", "name": "Blocker", "id": "1"}, "labels": ["pull-request-available"], "customfield_12312333": null, "customfield_12312334": null, "customfield_12313422": "false", "customfield_12310310": "0.0", "customfield_12312331": null, "customfield_12312332": null, "aggregatetimeoriginalestimate": 43200, "timeestimate": 31200, "customfield_12312330": null, "versions": [{"self": "https://issues.apache.org/jira/rest/api/2/version/12350076", "id": "12350076", "description": "Fix release against 3.6 branch", "name": "3.6.4", "archived": false, "released": true, "releaseDate": "2022-12-22"}, {"self": "https://issues.apache.org/jira/rest/api/2/version/12351732", "id": "12351732", "description": "Fix release against 3.7 branch", "name": "3.7.2", "archived": false, "released": true, "releaseDate": "2023-10-09"}, {"self": "https://issues.apache.org/jira/rest/api/2/version/12353693", "id": "12353693", "description": "", "name": "3.8.4", "archived": false, "released": true, "releaseDate": "2024-03-05"}, {"self": "https://issues.apache.org/jira/rest/api/2/version/12354432", "id": "12354432", "description": "", "name": "3.9.3", "archived": false, "released": true, "releaseDate": "2024-10-24"}], "customfield_12311120": null, "customfield_12313826": null, "issuelinks": [], "customfield_12312339": null, "customfield_12313825": null, "assignee": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=zichen", "name": "zichen", "key": "JIRAUSER307750", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "zichen", "active": true, "timeZone": "Etc/UTC"}, "customfield_12312337": null, "customfield_12313823": null, "customfield_12312338": null, "customfield_12311920": null, "customfield_12313822": null, "customfield_12312335": null, "customfield_12313821": null, "customfield_12312336": null, "customfield_12313820": null, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/6", "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png", "name": "Closed", "id": "6", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green", "name": "Done"}}, "components": [{"self": "https://issues.apache.org/jira/rest/api/2/component/12312379", "id": "12312379", "name": "quorum", "description": "Quorum determination for ZooKeeper"}], "archiveddate": null, "customfield_12312026": null, "customfield_12312023": null, "customfield_12312024": null, "aggregatetimeestimate": 31200, "customfield_12312022": null, "customfield_12310921": null, "customfield_12310920": "9223372036854775807", "customfield_12312823": null, "creator": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=zichen", "name": "zichen", "key": "JIRAUSER307750", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "zichen", "active": true, "timeZone": "Etc/UTC"}, "subtasks": [], "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=zichen", "name": "zichen", "key": "JIRAUSER307750", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "zichen", "active": true, "timeZone": "Etc/UTC"}, "aggregateprogress": {"progress": 12000, "total": 43200, "percent": 27}, "customfield_12313520": null, "customfield_12310250": null, "progress": {"progress": 12000, "total": 43200, "percent": 27}, "customfield_12313924": null, "votes": {"self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-4886/votes", "votes": 0, "hasVoted": false}, "worklog": {"startAt": 0, "maxResults": 20, "total": 20, "worklogs": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/949522", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on code in PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#discussion_r1894555028\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,98 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n+\n+/**\n+ * ZOOKEEPER-4886：myid small observer can't join quorum, so need use getView()\n+ * SASL Quorum:\n+ * server.11=localhost:11223:11224:participant\n+ * server.21=localhost:11226:11227:participant\n+ * server.1=localhost:11229:11230:observer\n+ *\n+ * The server.1 can't join quorum.\n+ */\n+public class QuorumAuthObserverTest extends QuorumAuthTestBase {\n+\n+    static {\n+        String jaasEntries = \"QuorumServer {\\n\"\n+                             + \"       org.apache.zookeeper.server.auth.DigestLoginModule required\\n\"\n+                             + \"       user_test=\\\"mypassword\\\";\\n\"\n+                             + \"};\\n\"\n+                             + \"QuorumLearner {\\n\"\n+                             + \"       org.apache.zookeeper.server.auth.DigestLoginModule required\\n\"\n+                             + \"       username=\\\"test\\\"\\n\"\n+                             + \"       password=\\\"mypassword\\\";\\n\"\n+                             + \"};\\n\";\n+        setupJaasConfig(jaasEntries);\n+    }\n+\n+    @AfterEach\n+    @Override\n+    public void tearDown() throws Exception {\n+        shutdownAll();\n+        super.tearDown();\n+    }\n+\n+    @AfterAll\n+    public static void cleanup() {\n+        cleanupJaasConfig();\n+    }\n+\n+    /**\n+     * Test to myid small observer join quorum.\n\nReview Comment:\n   ```suggestion\r\n        * Test to ensure observer with small myid can join SASL quorum.\r\n        *\r\n   ```\n\n\n\n##########\nzookeeper-server/src/main/java/org/apache/zookeeper/server/quorum/QuorumCnxManager.java:\n##########\n@@ -502,8 +502,9 @@ private boolean startConnection(Socket sock, Long sid) throws IOException {\n             return false;\n         }\n \n+        // ZOOKEEPER-4886: small observer can't join quorum, so need use getView()\n\nReview Comment:\n   ```suggestion\r\n   ```\r\n   \r\n   This does not look helpful after this merged.\n\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,98 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n+\n+/**\n+ * ZOOKEEPER-4886：myid small observer can't join quorum, so need use getView()\n+ * SASL Quorum:\n+ * server.11=localhost:11223:11224:participant\n+ * server.21=localhost:11226:11227:participant\n+ * server.1=localhost:11229:11230:observer\n+ *\n+ * The server.1 can't join quorum.\n+ */\n\nReview Comment:\n   ```suggestion\r\n   ```\n\n\n\n", "created": "2024-12-21T04:46:51.886+0000", "updated": "2024-12-21T04:46:51.886+0000", "started": "2024-12-21T04:46:51.885+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "949522", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/949524", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw closed pull request #2211: ZOOKEEPER-4886: Fix observer with small myid can't join SASL quorum\nURL: https://github.com/apache/zookeeper/pull/2211\n\n\n", "created": "2024-12-21T04:59:57.612+0000", "updated": "2024-12-21T04:59:57.612+0000", "started": "2024-12-21T04:59:57.612+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "949524", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/949525", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "zichen-gan opened a new pull request, #2211:\nURL: https://github.com/apache/zookeeper/pull/2211\n\n   ZK BUG Like QuorumAuthObserverTest#testSmallObserverJoinSASLQuorum\r\n   When SASL Quorum like:\r\n   server.11=localhost:11223:11224:participant\r\n   server.21=localhost:11226:11227:participant\r\n   server.1=localhost:11229:11230:observer\r\n   \r\n   The server.1 can't join quorum.\n\n\n", "created": "2024-12-21T05:00:01.851+0000", "updated": "2024-12-21T05:00:01.851+0000", "started": "2024-12-21T05:00:01.850+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "949525", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/950861", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on code in PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#discussion_r1902196456\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,98 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n+\n+/**\n+ * ZOOKEEPER-4886：myid small observer can't join quorum, so need use getView()\n+ * SASL Quorum:\n+ * server.11=localhost:11223:11224:participant\n+ * server.21=localhost:11226:11227:participant\n+ * server.1=localhost:11229:11230:observer\n+ *\n+ * The server.1 can't join quorum.\n+ */\n\nReview Comment:\n   Why do you want this to be removed?\n\n\n\n", "created": "2025-01-03T21:55:40.154+0000", "updated": "2025-01-03T21:55:40.154+0000", "started": "2025-01-03T21:55:40.154+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "950861", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/950883", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on code in PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#discussion_r1902602330\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,98 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n+\n+/**\n+ * ZOOKEEPER-4886：myid small observer can't join quorum, so need use getView()\n+ * SASL Quorum:\n+ * server.11=localhost:11223:11224:participant\n+ * server.21=localhost:11226:11227:participant\n+ * server.1=localhost:11229:11230:observer\n+ *\n+ * The server.1 can't join quorum.\n+ */\n\nReview Comment:\n   I think the comments on method is enough. Also tests are authored per-method, so class level comments are easy to be outdated.\n\n\n\n", "created": "2025-01-04T06:52:32.961+0000", "updated": "2025-01-04T06:52:32.961+0000", "started": "2025-01-04T06:52:32.960+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "950883", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/953513", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "zichen-gan commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2606195545\n\n   DONE @anmolnar @kezhuw \n\n\n", "created": "2025-01-22T03:13:12.180+0000", "updated": "2025-01-22T03:13:12.180+0000", "started": "2025-01-22T03:13:12.180+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "953513", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/953849", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on code in PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#discussion_r1926827909\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,89 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n+\n+public class QuorumAuthObserverTest extends QuorumAuthTestBase {\n+\n+    static {\n+        String jaasEntries = \"QuorumServer {\\n\"\n+                             + \"       org.apache.zookeeper.server.auth.DigestLoginModule required\\n\"\n+                             + \"       user_test=\\\"mypassword\\\";\\n\"\n+                             + \"};\\n\"\n+                             + \"QuorumLearner {\\n\"\n+                             + \"       org.apache.zookeeper.server.auth.DigestLoginModule required\\n\"\n+                             + \"       username=\\\"test\\\"\\n\"\n+                             + \"       password=\\\"mypassword\\\";\\n\"\n+                             + \"};\\n\";\n+        setupJaasConfig(jaasEntries);\n+    }\n+\n+    @AfterEach\n+    @Override\n+    public void tearDown() throws Exception {\n+        shutdownAll();\n+        super.tearDown();\n+    }\n+\n+    @AfterAll\n+    public static void cleanup() {\n+        cleanupJaasConfig();\n+    }\n+\n+    /**\n+     * Test to ensure observer with small myid can join SASL quorum.\n+     * peer0 myid：11 participant\n+     * peer1 myid：21 participant\n+     * peer2 myid：1 observer\n+     */\n+    @Test\n+    @Timeout(value = 30)\n+    public void testSmallObserverJoinSASLQuorum() throws Exception {\n+        Map<String, String> authConfigs = new HashMap<>();\n+        authConfigs.put(QuorumAuth.QUORUM_SASL_AUTH_ENABLED, \"true\");\n+        authConfigs.put(QuorumAuth.QUORUM_SERVER_SASL_AUTH_REQUIRED, \"true\");\n+        authConfigs.put(QuorumAuth.QUORUM_LEARNER_SASL_AUTH_REQUIRED, \"true\");\n+\n+        // create quorum\n+        StringBuilder connectStringBuilder = new StringBuilder();\n+        int[] myidList = {11, 21, 1};\n+        String[] roleList = {\"participant\", \"participant\", \"observer\"};\n+        int[] clientPorts = startQuorum(3, connectStringBuilder, authConfigs, 3, false, myidList, roleList);\n+\n+        // small observer can't join quorum\n\nReview Comment:\n   ```suggestion\r\n           // observer with small myid should have joined the quorum\r\n   ```\n\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,89 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n+\n+public class QuorumAuthObserverTest extends QuorumAuthTestBase {\n+\n+    static {\n+        String jaasEntries = \"QuorumServer {\\n\"\n+                             + \"       org.apache.zookeeper.server.auth.DigestLoginModule required\\n\"\n+                             + \"       user_test=\\\"mypassword\\\";\\n\"\n+                             + \"};\\n\"\n+                             + \"QuorumLearner {\\n\"\n+                             + \"       org.apache.zookeeper.server.auth.DigestLoginModule required\\n\"\n+                             + \"       username=\\\"test\\\"\\n\"\n+                             + \"       password=\\\"mypassword\\\";\\n\"\n+                             + \"};\\n\";\n+        setupJaasConfig(jaasEntries);\n+    }\n+\n+    @AfterEach\n+    @Override\n+    public void tearDown() throws Exception {\n+        shutdownAll();\n+        super.tearDown();\n+    }\n+\n+    @AfterAll\n+    public static void cleanup() {\n+        cleanupJaasConfig();\n+    }\n+\n+    /**\n+     * Test to ensure observer with small myid can join SASL quorum.\n+     * peer0 myid：11 participant\n+     * peer1 myid：21 participant\n+     * peer2 myid：1 observer\n+     */\n+    @Test\n+    @Timeout(value = 30)\n\nReview Comment:\n   ```suggestion\r\n   ```\r\n   \r\n   Let's rely on `watcher.waitForConnected(ClientBase.CONNECTION_TIMEOUT)`.\n\n\n\n", "created": "2025-01-23T11:32:25.995+0000", "updated": "2025-01-23T11:32:25.995+0000", "started": "2025-01-23T11:32:25.994+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "953849", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/953850", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on code in PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#discussion_r1926835156\n\n\n##########\nzookeeper-server/src/test/java/org/apache/zookeeper/server/quorum/auth/QuorumAuthObserverTest.java:\n##########\n@@ -0,0 +1,88 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.zookeeper.server.quorum.auth;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import org.apache.zookeeper.CreateMode;\n+import org.apache.zookeeper.ZooDefs.Ids;\n+import org.apache.zookeeper.ZooKeeper;\n+import org.apache.zookeeper.test.ClientBase;\n+import org.apache.zookeeper.test.ClientBase.CountdownWatcher;\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.Timeout;\n\nReview Comment:\n   ```suggestion\r\n   ```\r\n   \r\n   Fix the checkstyle error.\n\n\n\n", "created": "2025-01-23T11:36:16.191+0000", "updated": "2025-01-23T11:36:16.191+0000", "started": "2025-01-23T11:36:16.191+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "953850", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/960877", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2707866949\n\n   retest\n\n\n", "created": "2025-03-08T01:30:10.929+0000", "updated": "2025-03-08T01:30:10.929+0000", "started": "2025-03-08T01:30:10.928+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "960877", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/960878", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "anmolnar commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2707867886\n\n   @zichen-gan Sorry for the delay. I cannot retrigger the tests. Could you please rebase on latest master?\n\n\n", "created": "2025-03-08T01:31:06.717+0000", "updated": "2025-03-08T01:31:06.717+0000", "started": "2025-03-08T01:31:06.716+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "960878", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/960927", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw closed pull request #2211: ZOOKEEPER-4886: Fix observer with small myid can't join SASL quorum\nURL: https://github.com/apache/zookeeper/pull/2211\n\n\n", "created": "2025-03-08T13:35:16.812+0000", "updated": "2025-03-08T13:35:16.812+0000", "started": "2025-03-08T13:35:16.812+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "960927", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/960928", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "zichen-gan opened a new pull request, #2211:\nURL: https://github.com/apache/zookeeper/pull/2211\n\n   ZK BUG Like QuorumAuthObserverTest#testSmallObserverJoinSASLQuorum\r\n   When SASL Quorum like:\r\n   server.11=localhost:11223:11224:participant\r\n   server.21=localhost:11226:11227:participant\r\n   server.1=localhost:11229:11230:observer\r\n   \r\n   The server.1 can't join quorum.\n\n\n", "created": "2025-03-08T13:35:21.205+0000", "updated": "2025-03-08T13:35:21.205+0000", "started": "2025-03-08T13:35:21.204+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "960928", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/964097", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2767099499\n\n   I think the test is flaky somehow.\n\n\n", "created": "2025-03-31T18:43:42.423+0000", "updated": "2025-03-31T18:43:42.423+0000", "started": "2025-03-31T18:43:42.423+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "964097", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966831", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2817082510\n\n   Rebased this to latest master to verify flakyness.\n\n\n", "created": "2025-04-20T09:24:51.216+0000", "updated": "2025-04-20T09:24:51.216+0000", "started": "2025-04-20T09:24:51.216+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966831", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966839", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2817230656\n\n   The test failed once due to flakyness of `ZooKeeperServerMaxCnxnsTest`.\r\n   \r\n   https://github.com/apache/zookeeper/actions/runs/14560136021/job/40842324999?pr=2211#step:6:494\n\n\n", "created": "2025-04-20T15:51:21.410+0000", "updated": "2025-04-20T15:51:21.410+0000", "started": "2025-04-20T15:51:21.409+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966839", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966842", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw merged PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211\n\n\n", "created": "2025-04-20T16:40:44.825+0000", "updated": "2025-04-20T16:40:44.825+0000", "started": "2025-04-20T16:40:44.825+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966842", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966843", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw opened a new pull request, #2250:\nURL: https://github.com/apache/zookeeper/pull/2250\n\n   (no comment)\n\n\n", "created": "2025-04-20T17:02:12.677+0000", "updated": "2025-04-20T17:02:12.677+0000", "started": "2025-04-20T17:02:12.677+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966843", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966849", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on PR #2250:\nURL: https://github.com/apache/zookeeper/pull/2250#issuecomment-2817269687\n\n   Jenkins ci succeeded. https://ci-hadoop.apache.org/job/zookeeper-precommit-github-pr/job/PR-2250/\r\n   \r\n   I am going to merge this as branch-3.8 ci is failed.\n\n\n", "created": "2025-04-20T17:42:31.113+0000", "updated": "2025-04-20T17:42:31.113+0000", "started": "2025-04-20T17:42:31.113+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966849", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966850", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw merged PR #2250:\nURL: https://github.com/apache/zookeeper/pull/2250\n\n\n", "created": "2025-04-20T17:43:27.739+0000", "updated": "2025-04-20T17:43:27.739+0000", "started": "2025-04-20T17:43:27.739+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966850", "issueId": "13598708"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/worklog/966851", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "comment": "kezhuw commented on PR #2211:\nURL: https://github.com/apache/zookeeper/pull/2211#issuecomment-2817270584\n\n   Merged and backported to 3.9, 3.8.\r\n   \r\n   @zichen-gan Thank you for your contribution!\n\n\n", "created": "2025-04-20T17:44:48.665+0000", "updated": "2025-04-20T17:44:48.665+0000", "started": "2025-04-20T17:44:48.664+0000", "timeSpent": "10m", "timeSpentSeconds": 600, "id": "966851", "issueId": "13598708"}]}, "archivedby": null, "customfield_12313920": null, "issuetype": {"self": "https://issues.apache.org/jira/rest/api/2/issuetype/1", "id": "1", "description": "A problem which impairs or prevents the functions of the product.", "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype", "name": "Bug", "subtask": false, "avatarId": 21133}, "timespent": 12000, "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@21815863[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@20694616[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b6ebaf2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@11dd0a7f[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ae9243a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1795901c[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@19a21136[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@60d56e8f[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@53ae4e5b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@68802142[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@61a2a6c5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2a481d68[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}", "customfield_12314141": null, "customfield_12314140": null, "project": {"self": "https://issues.apache.org/jira/rest/api/2/project/12310801", "id": "12310801", "key": "ZOOKEEPER", "name": "ZooKeeper", "projectTypeKey": "software", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011", "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011", "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011", "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"}, "projectCategory": {"self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10484", "id": "10484", "description": "Apache ZooKeeper related", "name": "ZooKeeper"}}, "aggregatetimespent": 12000, "customfield_12312520": null, "customfield_12312521": "Sun Apr 20 16:41:11 UTC 2025", "customfield_12314422": null, "customfield_12314421": ["java"], "customfield_12314146": null, "customfield_12314420": null, "customfield_12314145": null, "customfield_12314144": null, "customfield_12314143": null, "resolutiondate": "2025-04-20T16:41:11.000+0000", "workratio": 27, "customfield_12312923": null, "customfield_12312920": null, "customfield_12312921": null, "watches": {"self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-4886/watchers", "watchCount": 1, "isWatching": false}, "created": "2024-11-14T02:57:18.000+0000", "customfield_12310192": null, "customfield_12310191": null, "customfield_12310230": null, "updated": "2025-08-29T21:29:01.000+0000", "timeoriginalestimate": 43200, "description": "When SASL Quorum like:\r\nserver.11=localhost:11223:11224:participant\r\nserver.21=localhost:11226:11227:participant\r\nserver.1=localhost:11229:11230:observer\r\n\r\nThe server.1 can't join quorum.", "customfield_10010": null, "timetracking": {"originalEstimate": "12h", "remainingEstimate": "8h 40m", "timeSpent": "3h 20m", "originalEstimateSeconds": 43200, "remainingEstimateSeconds": 31200, "timeSpentSeconds": 12000}, "customfield_12314523": null, "customfield_12314127": null, "customfield_12314522": null, "customfield_12314126": null, "customfield_12314521": null, "customfield_12314125": null, "customfield_12314520": null, "customfield_12314124": null, "customfield_12312340": null, "attachment": [], "customfield_12314123": null, "customfield_12312341": null, "customfield_12312220": null, "customfield_12314122": null, "customfield_12314121": null, "customfield_12314120": null, "customfield_12314129": null, "customfield_12314524": null, "customfield_12314128": null, "summary": "observer with small myid can't join SASL quorum", "customfield_12314130": null, "customfield_12310291": null, "customfield_12310290": null, "customfield_12311024": null, "customfield_12314138": null, "customfield_12314137": null, "environment": "https://github.com/apache/zookeeper/pull/2211", "customfield_12314136": null, "customfield_12314135": null, "customfield_12311020": null, "customfield_12314134": null, "duedate": null, "customfield_12314132": null, "customfield_12314131": null, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13598708/comment/17945983", "id": "17945983", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw", "name": "kezhuw", "key": "kezhuw", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"}, "displayName": "Kezhu Wang", "active": true, "timeZone": "Etc/GMT-8"}, "body": "Issue resolved by pull request 2211\n[https://github.com/apache/zookeeper/pull/2211]", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw", "name": "kezhuw", "key": "kezhuw", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"}, "displayName": "Kezhu Wang", "active": true, "timeZone": "Etc/GMT-8"}, "created": "2025-04-20T16:41:11.614+0000", "updated": "2025-04-20T16:41:11.614+0000"}], "maxResults": 1, "total": 1, "startAt": 0}, "customfield_12311820": "0|z1sjq0:", "customfield_12314139": null}}